!function(t){if("object"==typeof exports)module.exports=t();else if("function"==typeof define&&define.amd)define(t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.Bumpkit=t()}}(function(){return function t(e,n,r){function i(u,a){if(!n[u]){if(!e[u]){var c="function"==typeof require&&require;if(!a&&c)return c(u,!0);if(o)return o(u,!0);throw new Error("Cannot find module '"+u+"'")}var f=n[u]={exports:{}};e[u][0].call(f.exports,function(t){var n=e[u][1][t];return i(n?n:t)},f,f.exports,t,e,n,r)}return n[u].exports}for(var o="function"==typeof require&&require,u=0;u<r.length;u++)i(r[u]);return i}({1:[function(t,e){var n=function(t){var e=this,t=t||{},n=function(){this.duration=t.duration||.0625,this.frequency=t.frequency||256,this.output=t.output||e.destination,this.connect=function(t){this.output=t},this.play=function(t){var n=e.createOscillator();n.type=0,n.frequency.value=this.frequency,e.trigger(n,{when:t,output:this.output,duration:this.duration})}};return new n};e.exports={createBeep:n}},{}],2:[function(t,e){var n=function(t){var t=t||{},e={};return e.output=t.output||0,e.active=t.active||!0,e.pattern=t.pattern||[],e.connect=function(t){e.output=t},e.play=function(t){e.output.play(t)},window.addEventListener("step",function(t){var n=t.detail.step,r=t.detail.when;e.active&&1==e.pattern[n]&&e.play(r)}),e};e.exports={createClip:n}},{}],3:[function(t,e){var n=function(){var t=this;this.tempo=120,this.isPlaying=!1,this.loopLength=null,this.timeSignature=[4,4],this.stepResolution=16;var e=function(){return 60/t.tempo/4},n=0,r=0,i=0,o=new CustomEvent("step",{detail:{}}),u=function(e){if(!t.currentTime){t.createBufferSource()}o.detail.step=r,o.detail.when=e,window.dispatchEvent(o)},a=function(){for(var o=.1,c=25;n<t.currentTime+o;)u(n),n+=e(),r++,r==t.loopLength&&(r=0);i=setTimeout(function(){a()},c)},c=function(){t.isPlaying=!1,window.clearTimeout(i)};return this.playPause=function(){t.isPlaying?c():(r=0,n=t.currentTime,a(),t.isPlaying=!t.isPlaying)},this};e.exports=n},{}],4:[function(t,e){var n=t("./clock"),r=t("./mixer"),i=t("./clip"),o=t("./beep"),u=t("./sampler"),a=function(){try{var t=new AudioContext||new webkitAudioContext}catch(e){console.error("Web Audio API not supported in this browser")}return t.trigger=function(t,e){var e={when:e.when||0,offset:e.offset||0,duration:e.duration||0,output:e.output||0};t.connect(e.output),t.start(e.when,e.offset||0),e.duration&&t.stop(e.when+e.duration)},t.getArrayBuffer=function(t,e){var n=new XMLHttpRequest;n.responseType="arraybuffer",n.open("GET",t,!0),n.send(),n.onload=function(){n.response||console.error("Could not load"),e(n.response)}},t.buffers={},t.loadBuffer=function(t,e){function n(n){r.decodeAudioData(n,function(n){r.buffers[t]=n,e&&e(n)})}var r=this;this.buffers[t]&&e&&e(this.buffers[t]),this.getArrayBuffer(t,function(t){n(t)})},t.initClock=n,t.initClock(),t.createMixer=r.createMixer,t.createBeep=o.createBeep,t.createSampler=u.createSampler,t.createClip=i.createClip,t};e.exports=a},{"./beep":1,"./clip":2,"./clock":3,"./mixer":5,"./sampler":6}],5:[function(t,e){var n=function(){var t=this,e={},n=function(){var e=t.createGain();return e.mute=t.createGain(),e.volume=t.createGain(),e.effects=[],e.connect(e.mute),e.mute.connect(e.volume),e.connect=function(t){e.volume.connect(t)},e.toggleMute=function(){e.mute.gain.value=1-e.mute.gain.value},e};return e.master=new n,e.master.connect(t.destination),e.tracks=[],e.addTrack=function(){var t=new n;return t.connect(e.master),e.tracks.push(t),this},e.removeTrack=function(e){t.tracks.splice(e,1)},e.addEffect=function(){},e};e.exports={createMixer:n}},{}],6:[function(t,e){var n=function(t){var e=this,t=t||{},n=function(){this.output=t.output||e.destination,this.offset=t.offset||0,this.duration=t.duration||.6,this.buffer=t.buffer||0,this.connect=function(t){this.output=t},this.play=function(t){var n=e.createBufferSource();n.buffer=this.buffer,e.trigger(n,{when:t,output:this.output,duration:this.duration})}};return new n};e.exports={createSampler:n}},{}]},{},[4])(4)});