<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Bumpkit</title>
  <meta name="author" content="Jxnblk">
  <meta name="description" content="Web Audio Framework">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="css/basscss.min.css" />
</head>
<body>

  <header class="p2">
    <h1>Bumpkit</h1>
  </header>

  <section class="p2">
    <button id="play-pause-button">Play / Pause</button>
    <div>
      <button id="toggle-track-0-button">Mute Track 0</button>
      <button id="toggle-track-1-button">Mute Track 1</button>
    </div>
  </section>

  <script src="dist/bumpkit.min.js"></script>

  <script>
      var bump = new Bumpkit();

      var mixer = bump.createMixer();
      mixer.addTrack();
      mixer.addTrack();

      bump.loopLength = 16;

      var beep = bump.createBeep({ output: mixer.tracks[0] });
      mixer.tracks[0].volume.gain.value = .1;
      beep.play(0);

      var sampler = bump.createSampler({ output: mixer.tracks[1] });
      bump.loadBuffer('audio/pad.mp3', function(buffer) {
        sampler.buffer = buffer;
      });

      c1 = bump.createClip();
      c1.connect(beep);
      c1.pattern = [1,0,0,0, 1,0,0,0, 1,0,0,0, 1,0,0,0];

      c2 = bump.createClip();
      c2.connect(sampler);
      c2.pattern = [1,0,0,1, 0,0,1,0, 0,1,0,0, 1,0,0,1];

      document.getElementById('play-pause-button').addEventListener('click', function() {
        bump.playPause();
      });
      document.getElementById('toggle-track-0-button').addEventListener('click', function() {
        mixer.tracks[0].toggleMute();
      });
      document.getElementById('toggle-track-1-button').addEventListener('click', function() {
        mixer.tracks[1].toggleMute();
      });

  </script>


</body>
</html>
